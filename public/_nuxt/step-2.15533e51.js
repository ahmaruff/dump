import{_ as B}from"./DemoWizardStepTitle.vue.1d272d25.js";import{d as b,r as D,P as $,E as V,o as r,a as d,h as a,v as w,ap as j,aq as F,b as n,e as s,w as x,t as C,y as L,T as U,_ as E,aG as T,C as z,n as I,l as P}from"./entry.95308f2b.js";import{_ as N}from"./BaseButtonIcon.vue.ada84bdf.js";import{_ as S}from"./BaseInputFileHeadless.vue.e3884c55.js";import{_ as M}from"./BaseTextarea.vue.793866e0.js";import{u as H}from"./multi-step-form.342d425a.js";import{u as R}from"./file-preview.6f09b0bf.js";import{_ as W}from"./placeholder-file.57cbd7eb.js";const q={class:"nui-fullscreen-dropfile"},G={key:0,class:"nui-fullscreen-dropfile-outer"},A={class:"nui-fullscreen-dropfile-inner"},J={key:0,class:"nui-fullscreen-dropfile-container"},K={class:"nui-fullscreen-dropfile-content"},O={class:"nui-fullscreen-dropfile-label"},Q=b({__name:"BaseFullscreenDropfile",props:{label:{default:"Drop your files"},icon:{default:""},filterFileDropped:{type:Function,default:()=>!0}},emits:["drop"],setup(y,{emit:i}){const u=y,t=D(!1);let c=0;function e(){c+=1,c===1&&(t.value=!0)}function _(){c-=1,c===0&&(t.value=!1)}function v(l){l.preventDefault()}function p(l){if(l.preventDefault(),t.value=!1,c=0,!l.dataTransfer)return;const f=l.dataTransfer,m=new DataTransfer;if(f){for(const h of f.files)u.filterFileDropped(h)&&m.items.add(h);i("drop",m.files)}}return $(()=>{document.documentElement.addEventListener("dragenter",e,!1),document.documentElement.addEventListener("dragleave",_,!1),document.documentElement.addEventListener("dragover",v,!1),document.documentElement.addEventListener("drop",p)}),V(()=>{document.documentElement.removeEventListener("dragenter",e),document.documentElement.removeEventListener("dragleave",_),document.documentElement.removeEventListener("dragover",v),document.documentElement.removeEventListener("drop",p)}),(l,f)=>{const m=E;return r(),d("div",q,[a(t)?(r(),d("div",G)):w("",!0),j(n("div",A,[s(U,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-0 opacity-0","enter-to-class":"transform scale-1 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-1 opacity-100","leave-to-class":"transform scale-0 opacity-0"},{default:x(()=>[a(t)?(r(),d("div",J,[n("div",K,[u.icon?(r(),C(m,{key:0,name:u.icon,class:"nui-fullscreen-dropfile-icon"},null,8,["name"])):w("",!0),n("div",O,L(u.label),1)])])):w("",!0)]),_:1})],512),[[F,a(t)]])])}}}),X={class:"mx-auto flex w-full max-w-5xl flex-col px-4"},Y={class:"flex items-center justify-center"},Z={class:"relative h-20 w-20"},ee=["src"],te={key:1,src:W,alt:"Upload preview",class:"bg-muted-200 dark:bg-muted-700/60 h-20 w-20 rounded-full object-cover object-center"},oe={key:2,class:"absolute bottom-0 end-0 z-20"},ne={key:3,class:"absolute bottom-0 end-0 z-20"},se={class:"relative",tooltip:"Upload image"},ae=n("div",{class:"my-4 text-center font-sans"},[n("p",{class:"text-muted-500 text-sm"},"Upload a project logo"),n("p",{class:"text-muted-400 text-xs"},"File size cannot exceed 2MB")],-1),le={class:"mx-auto flex w-full max-w-sm flex-col gap-3"},ve=b({__name:"step-2",setup(y){const{data:i}=H();T({title:"Project info"});const u=R(()=>i.value.avatar),t=D(null);return z(t,c=>{const e=c?.item(0)||null;i.value.avatar=e}),(c,e)=>{const _=B,v=Q,p=E,l=N,f=S,m=P,h=M;return r(),d("div",null,[s(_),n("div",X,[n("div",Y,[s(v,{icon:"ph:image-duotone","filter-file-dropped":o=>o.type.startsWith("image"),onDrop:e[0]||(e[0]=o=>{t.value=o})},null,8,["filter-file-dropped"]),s(f,{accept:"image/*",modelValue:a(t),"onUpdate:modelValue":e[1]||(e[1]=o=>I(t)?t.value=o:null)},{default:x(({open:o,remove:k,files:g})=>[n("div",Z,[a(u)?(r(),d("img",{key:0,src:a(u),alt:"Upload preview",class:"bg-muted-200 dark:bg-muted-700/60 h-20 w-20 rounded-full object-cover object-center"},null,8,ee)):(r(),d("img",te)),g?.length&&g.item(0)?(r(),d("div",oe,[s(l,{size:"sm",shape:"full",onClick:re=>k(g.item(0)),tooltip:"Remove image"},{default:x(()=>[s(p,{name:"lucide:x",class:"h-4 w-4"})]),_:2},1032,["onClick"])])):(r(),d("div",ne,[n("div",se,[s(l,{size:"sm",shape:"full",onClick:o},{default:x(()=>[s(p,{name:"lucide:plus",class:"h-4 w-4"})]),_:2},1032,["onClick"])])]))])]),_:1},8,["modelValue"])]),ae,n("div",le,[s(m,{modelValue:a(i).name,"onUpdate:modelValue":e[2]||(e[2]=o=>a(i).name=o),shape:"curved",placeholder:"Project name",classes:{input:"h-12 text-base text-center"}},null,8,["modelValue"]),s(h,{modelValue:a(i).description,"onUpdate:modelValue":e[3]||(e[3]=o=>a(i).description=o),shape:"curved",placeholder:"Describe your project...",autogrow:"",class:"max-h-52"},null,8,["modelValue"])])])])}}});export{ve as default};
