import{d as k,I as _,J as y,ag as M,o as B,c as h,i as C,K as F,p as D,l as f,V as R,ah as V,a1 as z,r as I,a9 as N,aa as P,X as T,a as $,e as j,g as E}from"./DmTmMO_-.js";import{u as L}from"./C5pBaPI_.js";const J=k({__name:"BaseButtonIcon",props:{to:{default:void 0},href:{default:void 0},rel:{default:""},target:{default:""},type:{default:void 0},loading:{type:Boolean},disabled:{type:Boolean},color:{default:void 0},rounded:{default:void 0},size:{default:void 0}},setup(m){const o=m,l=_(o,"BaseButtonIcon","color"),e=_(o,"BaseButtonIcon","rounded"),t=_(o,"BaseButtonIcon","size"),u={none:"",sm:"nui-button-rounded-sm",md:"nui-button-rounded-md",lg:"nui-button-rounded-lg",full:"nui-button-rounded-full"},c={sm:"nui-button-sm",md:"nui-button-md",lg:"nui-button-lg",xl:"nui-button-xl"},i={default:"nui-button-default","default-contrast":"nui-button-default-contrast",muted:"nui-button-muted","muted-contrast":"nui-button-muted-contrast",light:"nui-button-light",dark:"nui-button-dark",black:"nui-button-black",primary:"nui-button-primary",info:"nui-button-info",success:"nui-button-success",warning:"nui-button-warning",danger:"nui-button-danger",none:""},r=y(()=>["nui-button-icon",o.loading&&"nui-button-loading",e.value&&u[e.value],t.value&&c[t.value],l.value&&i[l.value]]),{attributes:d,is:b}=M(o);return(n,a)=>{const s=V;return B(),h(R(f(b)),D(f(d),{class:f(r)}),{default:C(()=>[o.loading?(B(),h(s,{key:1,class:"size-4 rounded-md"})):F(n.$slots,"default",{key:0})]),_:3},16,["class"])}}}),g=new WeakMap;function w(m){const o=z(m);return y(()=>{var i,r;const e=o.value;if(!e)return"";if(g.has(e))return(i=g.get(e))==null?void 0:i.value;const t=new FileReader,u=I(""),c=()=>{var d;u.value=((d=t.result)==null?void 0:d.toString())??"",t.removeEventListener("load",c)};return t.addEventListener("load",c),t.readAsDataURL(e),g.set(e,u),(r=g.get(e))==null?void 0:r.value})}const A={class:"group/nui-file-headless relative"},H=["id","multiple"],K=k({inheritAttrs:!1,__name:"BaseInputFileHeadless",props:N({id:{default:void 0},multiple:{type:Boolean,default:!1},filterFileDropped:{type:Function,default:()=>!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(m,{expose:o}){const l=m,[e]=P(m,"modelValue"),t=I(),u=L(()=>l.id),c=new WeakMap;function i(){var n;(n=t.value)==null||n.click()}function r(n){n.stopPropagation(),n.preventDefault();const a=n.dataTransfer,s=new DataTransfer;if(t.value&&a){for(const p of a.files)l.filterFileDropped(p)&&s.items.add(p);t.value.files=s.files,e.value=t.value.files}}function d(n){if(!n||!e.value||!t.value)return;const a=new DataTransfer;c.has(n)&&c.delete(n);for(const s of e.value)s!==n&&a.items.add(s);t.value.files=a.files,e.value=t.value.files}function b(n){const a=n.target.files;if(a)if(l.multiple&&e.value){const s=[...e.value],p=new DataTransfer;for(const v of s)p.items.add(v);for(const v of a)s.some(x=>x.name===v.name)||p.items.add(v);if(!t.value)return;t.value.files=p.files,e.value=p.files}else e.value=a}return T("BaseInputFileHeadlessContext",$({el:t,id:u,files:e,open:i,remove:d,preview:w,drop:r})),o({el:t,id:u,files:e,open:i,remove:d,preview:w,drop:r}),(n,a)=>(B(),j("div",A,[F(n.$slots,"default",{id:f(u),el:f(t),files:f(e),open:i,remove:d,preview:f(w),drop:r}),E("input",D({id:f(u),ref_key:"inputRef",ref:t,type:"file"},n.$attrs,{class:"hidden",multiple:l.multiple,onChange:b}),null,16,H)]))}});export{J as _,K as a};
