import{d as E,E as M,r as f,J as C,L as _,o as I,e as N,h as d,i as x,g as e,l as a,s as B,_ as P,m as $,G as k}from"./DmTmMO_-.js";import{_ as U}from"./C_jKOqdG.js";import{u as W}from"./CoBg3nwE.js";import"./DLP8OW-a.js";import"./C5pBaPI_.js";const q={class:"w-full"},A={class:"flex flex-wrap justify-between gap-4"},F={class:"w-full dark:bg-muted-700 text-muted-800 border-muted-300 dark:border-muted-600 nui-focus relative inline-flex grow items-center justify-center gap-2 rounded border bg-white py-3 dark:text-white border-radius"},H=e("div",{class:"text-login-google"},"Masuk menggunakan Google",-1),T=e("div",{class:"flex-100 my-4 flex items-center"},[e("hr",{class:"border-muted-200 dark:border-muted-700 flex-auto border-t-2"}),e("span",{class:"text-muted-600 dark:text-muted-300 px-4 font-sans font-light"},"Atau"),e("hr",{class:"border-muted-200 dark:border-muted-700 flex-auto border-t-2"})],-1),G={class:"w-full space-y-2"},K={class:"max-width-lg grid grid-cols-1 md:grid-cols-4 gap-4"},L={name:"email",class:"col-span-1 md:col-span-4 grid grid-cols-1 md:grid-cols-4 gap-2 md:gap-0"},z=e("div",{class:"col-span-1 flex flex-col justify-center"},[e("p",{class:"txt-registration-2"},"Email")],-1),D={class:"md:col-span-3"},J={name:"password",class:"col-span-1 md:col-span-4 grid grid-cols-1 md:grid-cols-4 gap-2 md:gap-0","data-nui-tooltip":"Sandi harus terdapat angka, huruf besar, huruf kecil, & simbol"},O=e("div",{class:"col-span-1 flex flex-col justify-center"},[e("p",{class:"txt-registration-2"},"Kata Sandi")],-1),R={class:"md:col-span-3"},Z=["data-nui-tooltip"],Q={name:"password_confirmation",class:"col-span-1 md:col-span-4 grid grid-cols-1 md:grid-cols-4 gap-2 md:gap-0"},X=e("div",{class:"col-span-1 flex flex-col justify-center"},[e("p",{class:"txt-registration-2"},"Ulangi Kata Sandi")],-1),Y={class:"md:col-span-3"},ee=["data-nui-tooltip"],ne=E({__name:"index",setup(te){const{data:o,nextNotOk:h,getNextStep:se}=W();M(()=>{v(),c()});const w=s=>{let t=0;if(!s)return t;const i={};for(let l=0;l<s.length;l++)i[s[l]]=(i[s[l]]||0)+1,t+=5/i[s[l]];const r={digits:/\d/.test(s),lower:/[a-z]/.test(s),upper:/[A-Z]/.test(s),nonWords:/\W/.test(s)};let u=0;for(let l in r)r[l]&&u++;return t+=(u-1)*10,Math.floor(t)},y=()=>{g.value=w(o.value.password)},m=f(!1),g=f(w(o.value.password)),p=f(!1),b=C(()=>{if(o.value.password!==o.value.password_confirmation)return"Password do not match!"});_(()=>o.value.password,()=>{y(),c()});const V=s=>{if(s<65&&s>=50)return"Medium";if(s<50&&s>=20)return"Weak";if(s<20&&s>=1)return"Very Weak"},n=f("");function S(s,t){let i;return function(...r){i&&clearTimeout(i),i=setTimeout(()=>{s(...r)},t)}}const v=async()=>{try{const t=await(await fetch(`https://api.dev.commerce.waktoo.com/api/auth/check-email?email=${o.value.email}`)).json();t.status==="success"&&t.data?t.data.error?n.value="Email Invalid":t.data.exists?n.value="Email is already taken":n.value="":n.value="Error checking email"}catch{n.value="Error checking email"}},j=S(v,1e3);_(()=>o.value.email,()=>{j(),c()});const c=()=>{n.value==""&&g.value>64?o.value.password==o.value.password_confirmation&&(h.value=!1):h.value=!0};return _(()=>h,c),(s,t)=>{const i=B,r=P,u=U;return I(),N("div",q,[d(i,{as:"h2",class:"txt-onboarding-1 margin-40 text-center",weight:"medium"},{default:x(()=>[$(" Registrasi Akun ")]),_:1}),e("div",A,[e("button",F,[d(r,{name:"logos:google-icon",class:"h-3 w-3"}),H])]),T,e("div",G,[e("div",K,[e("div",L,[z,e("div",D,[d(u,{class:"w-full",type:"email",placeholder:"Email",autocomplete:"email",modelValue:a(o).email,"onUpdate:modelValue":t[0]||(t[0]=l=>a(o).email=l),required:"",error:a(n)},null,8,["modelValue","error"])])]),e("div",J,[O,e("div",R,[d(u,{onInput:c,modelValue:a(o).password,"onUpdate:modelValue":t[2]||(t[2]=l=>a(o).password=l),type:a(m)?"text":"password",placeholder:"Password",required:"",error:V(a(g))},{action:x(()=>[e("button",{class:"leading-0 text-muted-400 peer-focus-within:text-primary-500 absolute right-0 top-0 flex h-10 w-10 items-center justify-center text-center text-xl",onClick:t[1]||(t[1]=k(l=>m.value=!a(m),["prevent"]))},[e("span",{class:"relative flex h-full w-full items-center justify-center","data-nui-tooltip":a(m)?"Hide password":"Show password"},[d(r,{name:a(m)?"mdi:eye-off-outline":"mdi:eye-outline",class:"h-5 w-5"},null,8,["name"])],8,Z)])]),_:1},8,["modelValue","type","error"])])]),e("div",Q,[X,e("div",Y,[d(u,{onInput:c,modelValue:a(o).password_confirmation,"onUpdate:modelValue":t[4]||(t[4]=l=>a(o).password_confirmation=l),type:a(p)?"text":"password",placeholder:"Password",required:"",error:a(b)},{action:x(()=>[e("button",{class:"leading-0 text-muted-400 peer-focus-within:text-primary-500 absolute right-0 top-0 flex h-10 w-10 items-center justify-center text-center text-xl",onClick:t[3]||(t[3]=k(l=>p.value=!a(p),["prevent"]))},[e("span",{class:"relative flex h-full w-full items-center justify-center","data-nui-tooltip":a(p)?"Hide password":"Show password"},[d(r,{name:a(p)?"mdi:eye-off-outline":"mdi:eye-outline",class:"h-5 w-5"},null,8,["name"])],8,ee)])]),_:1},8,["modelValue","type","error"])])])])])])}}});export{ne as default};
