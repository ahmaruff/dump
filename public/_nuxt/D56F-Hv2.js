import{r as h,J as w,L as y,at as v,au as L,av as S,aw as E,ax as C,ay as O,$ as V,E as W,a5 as _}from"./DmTmMO_-.js";function M(e){var t;const n=v(e);return(t=n==null?void 0:n.$el)!=null?t:n}const m=O?window:void 0;function k(...e){let t,n,s,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,r]=e,t=m):[t,n,s,r]=e,!t)return L;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const o=[],a=()=>{o.forEach(i=>i()),o.length=0},u=(i,d,l,p)=>(i.addEventListener(d,l,p),()=>i.removeEventListener(d,l,p)),f=y(()=>[M(t),v(r)],([i,d])=>{if(a(),!i)return;const l=S(d)?{...d}:d;o.push(...n.flatMap(p=>s.map(A=>u(i,p,A,l))))},{immediate:!0,flush:"post"}),c=()=>{f(),a()};return E(c),c}function P(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function K(...e){let t,n,s={};e.length===3?(t=e[0],n=e[1],s=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],s=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=m,eventName:o="keydown",passive:a=!1,dedupe:u=!1}=s,f=P(t);return k(r,o,i=>{i.repeat&&v(u)||f(i)&&n(i)},a)}function R(){const e=h(!1),t=_();return t&&W(()=>{e.value=!0},t),e}function b(e){const t=R();return w(()=>(t.value,!!e()))}function j(e,t,n={}){const{window:s=m,...r}=n;let o;const a=b(()=>s&&"MutationObserver"in s),u=()=>{o&&(o.disconnect(),o=void 0)},f=w(()=>{const l=v(e),p=(Array.isArray(l)?l:[l]).map(M).filter(C);return new Set(p)}),c=y(()=>f.value,l=>{u(),a.value&&l.size&&(o=new MutationObserver(t),l.forEach(p=>o.observe(p,r)))},{immediate:!0,flush:"post"}),i=()=>o==null?void 0:o.takeRecords(),d=()=>{u(),c()};return E(d),{isSupported:a,stop:d,takeRecords:i}}function N(e,t={}){const{window:n=m}=t,s=b(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const o=h(!1),a=c=>{o.value=c.matches},u=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",a):r.removeListener(a))},f=V(()=>{s.value&&(u(),r=n.matchMedia(v(e)),"addEventListener"in r?r.addEventListener("change",a):r.addListener(a),o.value=r.matches)});return E(()=>{f(),u(),r=void 0}),o}function Q(e,t,n={}){const{window:s=m,initialValue:r="",observe:o=!1}=n,a=h(r),u=w(()=>{var c;return M(t)||((c=s==null?void 0:s.document)==null?void 0:c.documentElement)});function f(){var c;const i=v(e),d=v(u);if(d&&s){const l=(c=s.getComputedStyle(d).getPropertyValue(i))==null?void 0:c.trim();a.value=l||r}}return o&&j(u,f,{attributeFilter:["style","class"],window:s}),y([u,()=>v(e)],f,{immediate:!0}),y(a,c=>{var i;(i=u.value)!=null&&i.style&&u.value.style.setProperty(v(e),c)}),a}export{N as a,k as b,K as o,Q as u};
