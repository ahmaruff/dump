import{A as B,i as te,o as R,d as ce,s as me,f as y,I as he,u as U,g as ge,a as m,c as ye,l as be,h as Ee}from"./DzMF6t2X.js";import{d as w,X as P,a4 as b,r as v,J as $,E as T,$ as A,L as re,ap as H,a2 as G,ar as Se,a as Te,a5 as Pe,n as we}from"./DmTmMO_-.js";function Fe(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function N(){let e=[],t={addEventListener(r,n,u,l){return r.addEventListener(n,u,l),t.add(()=>r.removeEventListener(n,u,l))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...r)})},setTimeout(...r){let n=setTimeout(...r);t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Fe(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,u){let l=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:u}),this.add(()=>{Object.assign(r.style,{[n]:l})})},group(r){let n=N();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let u of e.splice(n,1))u()}},dispose(){for(let r of e.splice(0))r()}};return t}let ne=Symbol("ForcePortalRootContext");function Le(){return b(ne,!1)}let We=w({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:r}){return P(ne,e.force),()=>{let{force:n,...u}=e;return B({theirProps:u,ourProps:{},slot:{},slots:t,attrs:r,name:"ForcePortalRoot"})}}});function Ce(e){let t=te(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let r=t.getElementById("headlessui-portal-root");if(r)return r;let n=t.createElement("div");return n.setAttribute("id","headlessui-portal-root"),t.body.appendChild(n)}const D=new WeakMap;function $e(e){var t;return(t=D.get(e))!=null?t:0}function K(e,t){let r=t($e(e));return r<=0?D.delete(e):D.set(e,r),r}let ze=w({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:r}){let n=v(null),u=$(()=>te(n)),l=Le(),a=b(le,null),o=v(l===!0||a==null?Ce(n.value):a.resolveTarget());o.value&&K(o.value,i=>i+1);let s=v(!1);T(()=>{s.value=!0}),A(()=>{l||a!=null&&(o.value=a.resolveTarget())});let d=b(k,null),f=!1,E=Pe();return re(n,()=>{if(f||!d)return;let i=R(n);i&&(H(d.register(i),E),f=!0)}),H(()=>{var i,F;let L=(i=u.value)==null?void 0:i.getElementById("headlessui-portal-root");!L||o.value!==L||K(o.value,C=>C-1)||o.value.children.length>0||(F=o.value.parentElement)==null||F.removeChild(o.value)}),()=>{if(!s.value||o.value===null)return null;let i={ref:n,"data-headlessui-portal":""};return G(Se,{to:o.value},B({ourProps:i,theirProps:e,slot:{},attrs:r,slots:t,name:"Portal"}))}}}),k=Symbol("PortalParentContext");function Xe(){let e=b(k,null),t=v([]);function r(l){return t.value.push(l),e&&e.register(l),()=>n(l)}function n(l){let a=t.value.indexOf(l);a!==-1&&t.value.splice(a,1),e&&e.unregister(l)}let u={register:r,unregister:n,portals:t};return[t,w({name:"PortalWrapper",setup(l,{slots:a}){return P(k,u),()=>{var o;return(o=a.default)==null?void 0:o.call(a)}}})]}let le=Symbol("PortalGroupContext"),Je=w({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:r}){let n=Te({resolveTarget(){return e.target}});return P(le,n),()=>{let{target:u,...l}=e;return B({theirProps:l,ourProps:{},slot:{},attrs:t,slots:r,name:"PortalGroup"})}}});function Ae(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function I(e,...t){e&&t.length>0&&e.classList.add(...t)}function j(e,...t){e&&t.length>0&&e.classList.remove(...t)}var V=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(V||{});function Be(e,t){let r=N();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:u}=getComputedStyle(e),[l,a]=[n,u].map(o=>{let[s=0]=o.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return s});return l!==0?r.setTimeout(()=>t("finished"),l+a):t("finished"),r.add(()=>t("cancelled")),r.dispose}function ee(e,t,r,n,u,l){let a=N(),o=l!==void 0?Ae(l):()=>{};return j(e,...u),I(e,...t,...r),a.nextFrame(()=>{j(e,...r),I(e,...n),a.add(Be(e,s=>(j(e,...n,...t),I(e,...u),o(s))))}),a.add(()=>j(e,...t,...r,...n,...u)),a.add(()=>o("cancelled")),a.dispose}function g(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let W=Symbol("TransitionContext");var Oe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Oe||{});function xe(){return b(W,null)!==null}function je(){let e=b(W,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function He(){let e=b(z,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let z=Symbol("NestingContext");function M(e){return"children"in e?M(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function ae(e){let t=v([]),r=v(!1);T(()=>r.value=!0),H(()=>r.value=!1);function n(l,a=y.Hidden){let o=t.value.findIndex(({id:s})=>s===l);o!==-1&&(U(a,{[y.Unmount](){t.value.splice(o,1)},[y.Hidden](){t.value[o].state="hidden"}}),!M(t)&&r.value&&(e==null||e()))}function u(l){let a=t.value.find(({id:o})=>o===l);return a?a.state!=="visible"&&(a.state="visible"):t.value.push({id:l,state:"visible"}),()=>n(l,y.Unmount)}return{children:t,register:u,unregister:n}}let oe=ce.RenderStrategy,Me=w({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:r,slots:n,expose:u}){let l=v(0);function a(){l.value|=m.Opening,t("beforeEnter")}function o(){l.value&=~m.Opening,t("afterEnter")}function s(){l.value|=m.Closing,t("beforeLeave")}function d(){l.value&=~m.Closing,t("afterLeave")}if(!xe()&&me())return()=>G(Ie,{...e,onBeforeEnter:a,onAfterEnter:o,onBeforeLeave:s,onAfterLeave:d},n);let f=v(null),E=$(()=>e.unmount?y.Unmount:y.Hidden);u({el:f,$el:f});let{show:i,appear:F}=je(),{register:L,unregister:C}=He(),p=v(i.value?"visible":"hidden"),X={value:!0},S=he(),O={value:!1},J=ae(()=>{!O.value&&p.value!=="hidden"&&(p.value="hidden",C(S),d())});T(()=>{let c=L(S);H(c)}),A(()=>{if(E.value===y.Hidden&&S){if(i.value&&p.value!=="visible"){p.value="visible";return}U(p.value,{hidden:()=>C(S),visible:()=>L(S)})}});let Q=g(e.enter),Y=g(e.enterFrom),ue=g(e.enterTo),Z=g(e.entered),ie=g(e.leave),se=g(e.leaveFrom),de=g(e.leaveTo);T(()=>{A(()=>{if(p.value==="visible"){let c=R(f);if(c instanceof Comment&&c.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function fe(c){let q=X.value&&!F.value,h=R(f);!h||!(h instanceof HTMLElement)||q||(O.value=!0,i.value&&a(),i.value||s(),c(i.value?ee(h,Q,Y,ue,Z,x=>{O.value=!1,x===V.Finished&&o()}):ee(h,ie,se,de,Z,x=>{O.value=!1,x===V.Finished&&(M(J)||(p.value="hidden",C(S),d()))})))}return T(()=>{re([i],(c,q,h)=>{fe(h),X.value=!1},{immediate:!0})}),P(z,J),ge($(()=>U(p.value,{visible:m.Open,hidden:m.Closed})|l.value)),()=>{let{appear:c,show:q,enter:h,enterFrom:x,enterTo:Re,entered:Ue,leave:De,leaveFrom:ke,leaveTo:Ve,..._}=e,ve={ref:f},pe={..._,...F.value&&i.value&&ye.isServer?{class:we([r.class,_.class,...Q,...Y])}:{}};return B({theirProps:pe,ourProps:ve,slot:{},slots:n,attrs:r,features:oe,visible:p.value==="visible",name:"TransitionChild"})}}}),qe=Me,Ie=w({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:r,slots:n}){let u=be(),l=$(()=>e.show===null&&u!==null?(u.value&m.Open)===m.Open:e.show);A(()=>{if(![!0,!1].includes(l.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let a=v(l.value?"visible":"hidden"),o=ae(()=>{a.value="hidden"}),s=v(!0),d={show:l,appear:$(()=>e.appear||!s.value)};return T(()=>{A(()=>{s.value=!1,l.value?a.value="visible":M(o)||(a.value="hidden")})}),P(z,o),P(W,d),()=>{let f=Ee(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),E={unmount:e.unmount};return B({ourProps:{...E,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[G(qe,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...r,...E,...f},n.default)]},attrs:{},features:oe,visible:a.value==="visible",name:"Transition"})}}});export{ze as $,Ie as S,Me as h,N as o,Xe as q,Fe as t,We as u,Je as z};
