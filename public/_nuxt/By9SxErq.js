import{d as T,C as K,r as h,a as L,D as J,E as M,f,b as q,o as d,e as r,g as e,h as t,i as b,F as P,k as B,t as C,j as I,c as x,m as _,G,q as O,H as Q,_ as X,y as Y,z as Z,A as ee}from"./DmTmMO_-.js";import{_ as ae}from"./21j5a1Cb.js";import{_ as se}from"./C_jKOqdG.js";import{_ as oe}from"./Wwwchkvl.js";import{_ as te,a as le}from"./COXD0Gwp.js";import{_ as ne}from"./CK18j4Hi.js";import{_ as ie}from"./BaWAYAlg.js";import{_ as de}from"./B4A7ptYP.js";import{u as re}from"./BHLlrkjG.js";import{u as ce}from"./BCX54yQo.js";import"./D7JqdvHr.js";import"./C100mYQ1.js";import"./DzMF6t2X.js";import"./CSxYk3-N.js";import"./DLP8OW-a.js";import"./C5pBaPI_.js";const l=y=>(Y("data-v-6813f880"),y=y(),Z(),y),me={class:"border-muted-200"},ue={class:"nui-card nui-card-rounded-sm nui-card-default"},pe={class:"bg-white dark:bg-muted-800/70 p-10"},he={class:"mb-2"},ge={class:"mb-2"},_e=l(()=>e("div",{class:"mlls"},[e("div",{class:"title-m-1"},"Informasi Produk"),e("div",{class:"title-m-2"},"Ini adalah informasi yang pertama ditampilkan untuk pelanggan")],-1)),ve={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},ke=l(()=>e("div",{class:"line-height-normal"},[e("span",{class:"title-m-3"},"Nama Produk"),_(),e("span",{class:"alert-red"},"Wajib"),e("br"),e("span",{class:"title-m-2"},"Nama produk minimal mempunyai 40 karakter dengan memasukkan merek, jenis produk, warna, bahan, atau tipe.")],-1)),be={class:"line-height-normal"},Ve={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},ye=l(()=>e("div",{class:"line-height-normal"},[e("span",{class:"title-m-3"},"Kategori"),_(),e("span",{class:"alert-red"},"Wajib"),e("br"),e("span",{class:"title-m-2"},"Pilih kategori yang sesuai dengan produk. Pemilihan kategori yang tepat akan mempermudah barang untuk dicari oleh pembeli.")],-1)),fe={class:"line-height-normal"},we=l(()=>e("option",{value:null},"Pilih Kategori",-1)),Ue=["value"],je={key:0},Pe={class:"line-height-normal"},Be={class:"title-m-3"},Ce={key:0,class:"alert-red"},Ie=l(()=>e("br",null,null,-1)),$e={class:"line-height-normal"},Ae=["value"],ze=l(()=>e("br",null,null,-1)),Fe={class:"border-muted-200"},Se={class:"nui-card nui-card-rounded-sm nui-card-default"},xe={class:"bg-white dark:bg-muted-800/70 p-10"},Te={class:"mb-2"},Ee=l(()=>e("div",{class:"mlls"},[e("div",{class:"title-m-1"},"Detail Produk"),e("div",{class:"title-m-2"},"Ini adalah informasi yang pertama ditampilkan untuk pelanggan")],-1)),De={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},We=l(()=>e("div",{class:"line-height-normal"},[e("span",{class:"title-m-3"},"Foto Produk"),_(),e("span",{class:"alert-red"},"Wajib"),e("br"),e("span",{class:"title-m-2"},[_("Wajib menambahkan minimal 1 dari 10 foto produk."),e("br"),_("Format foto harus jpg jpeg ong dan mempunyai ukuran minimal 300 Ã— 300 px (untuk gambar optimal, gunakan ukuran min. 1.200 x 1.200 px).")])],-1)),Ne={class:"line-height-normal"},Re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4"},He={class:"relative size-20"},Ke=["src"],Le=["src"],Je={key:2,class:"kotak-dotted"},Me=l(()=>e("img",{src:"https://res.cloudinary.com/daraki09f/image/upload/v1715845355/waktoo-commerce/icon-foto.svg"},null,-1)),qe=l(()=>e("br",null,null,-1)),Ge={key:3,class:"absolute bottom-0 end-0 z-20"},Oe={key:4,class:"absolute bottom-0 end-0 z-20"},Qe={class:"relative","data-nui-tooltip":"Upload image"},Xe={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},Ye=O('<div class="line-height-normal" data-v-6813f880><span class="title-m-3" data-v-6813f880>URL Video Produk</span><br data-v-6813f880><span class="title-m-2" data-v-6813f880>Tambah video agar pembeli semakin tertarik dengan produkmu.</span><br data-v-6813f880><span class="title-m-2" data-v-6813f880>Hanya dapat menambahkan video yang berasal dari sosial media yang</span><span class="title-m-2" data-v-6813f880>dapat diakses oleh publik.</span></div>',1),Ze={class:"line-height-normal"},ea={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},aa=l(()=>e("div",{class:"line-height-normal"},[e("span",{class:"title-m-3"},"Kondisi"),_(),e("span",{class:"alert-red"},"Wajib"),e("br"),e("span",{class:"title-m-2"},"Wajib menambahkan keterangan kondisi produk baru atau bekas")],-1)),sa={class:"line-height-normal",style:{"margin-left":"15px"}},oa={class:"grid grid-cols-2 gap-6 md:max-w-lg md:grid-cols-4"},ta={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},la=l(()=>e("div",{class:"line-height-normal"},[e("span",{class:"title-m-3"},"Deskripsi Produk"),e("br"),e("span",{class:"title-m-2"},"Pastikan deskripsi produk memuat penjelasan detail terkait produkmu."),e("br"),e("span",{class:"title-m-2"},"agar pembeli mudah mengerti dan menemukan produkmu.")],-1)),na={class:"line-height-normal"},ia=l(()=>e("br",null,null,-1)),da={class:"border-muted-200"},ra={class:"nui-card nui-card-rounded-sm nui-card-default"},ca={class:"bg-white dark:bg-muted-800/70 p-10"},ma={class:"mb-2"},ua=l(()=>e("div",{class:"mlls"},[e("div",{class:"title-m-1"},"Harga"),e("div",{class:"title-m-2"},"Ini adalah informasi yang pertama ditampilkan untuk pelanggan")],-1)),pa={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},ha=l(()=>e("div",{class:"line-height-normal"},[e("span",{class:"title-m-3"},"Minimum Pesanan"),_(),e("span",{class:"alert-red"},"Wajib"),e("br"),e("span",{class:"title-m-2"},"Atur jumlah minimum yang harus dibeli untuk produk ini.")],-1)),ga={class:"line-height-normal"},_a={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},va=l(()=>e("div",{class:"line-height-normal"},[e("span",{class:"title-m-3"},"Harga Satuan"),_(),e("span",{class:"alert-red"},"Wajib"),e("br"),e("span",{class:"title-m-2"},"Atur jumlah minimum yang harus dibeli untuk produk ini.")],-1)),ka={class:"line-height-normal"},ba=l(()=>e("br",null,null,-1)),Va={class:"border-muted-200"},ya={class:"nui-card nui-card-rounded-sm nui-card-default"},fa={class:"bg-white dark:bg-muted-800/70 p-10"},wa={class:"mb-2"},Ua=l(()=>e("div",{class:"mlls"},[e("div",{class:"title-m-1"},"Pengelolaan Produk"),e("div",{class:"title-m-2"},"Ini adalah informasi yang pertama ditampilkan untuk pelanggan")],-1)),ja={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},Pa=l(()=>e("div",{class:"line-height-normal"},[e("span",{class:"title-m-3"},"Status Produk"),e("br"),e("span",{class:"title-m-2"},"Jika status aktif, produkmu dapat dicari oleh calon pembeli.")],-1)),Ba={class:"line-height-normal"},Ca={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},Ia=l(()=>e("div",{class:"line-height-normal"},[e("span",{class:"title-m-3"},"Stok Produk"),e("br"),e("span",{class:"title-m-2"},"Jumlah barang atau unit yang tersedia untuk dijual.")],-1)),$a={class:"line-height-normal"},Aa=l(()=>e("br",null,null,-1)),za={class:"border-muted-200"},Fa={class:"nui-card nui-card-rounded-sm nui-card-default"},Sa={class:"bg-white dark:bg-muted-800/70 p-10"},xa={class:"mb-2"},Ta=l(()=>e("div",{class:"mlls"},[e("div",{class:"title-m-1"},"Berat & Pengiriman"),e("div",{class:"title-m-2"},"Ini adalah informasi yang pertama ditampilkan untuk pelanggan")],-1)),Ea={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},Da=l(()=>e("div",{class:"line-height-normal"},[e("span",{class:"title-m-3"},"Berat Produk"),e("br"),e("span",{class:"title-m-2"},"Jumlah barang atau unit yang tersedia untuk dijual.")],-1)),Wa={class:"line-height-normal"},Na={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},Ra=l(()=>e("div",{class:"line-height-normal"},[e("span",{class:"title-m-3"},"Ukuran Produk"),e("br"),e("span",{class:"title-m-2"},"Masukkan ukuran produk setelah dikemas untuk menghitung berat volume.")],-1)),Ha={class:"line-height-normal grid grid-cols-1 md:grid-cols-3 gap-4"},Ka={class:"flex justify-center fixed bottom-8 inset-x-0"},La={class:"p-6 rounded-lg shadow-inner bg-white w-fit line-height-normal"},Ja=l(()=>e("button",{type:"submit",class:"static nui-button nui-button-md nui-button-rounded-sm nui-button-solid nui-button-primary !h-12 sm:w-40 mx-2 transform transition-transform duration-300 hover:scale-105"}," Submit ",-1)),Ma=T({__name:"ProdukEdit",setup(y){const{token:v}=re();K();const $=ce(),w=h([]);h(null);const z=h([]),E=h([]);h(null),h([]),h(Array(10).fill(null)),h(Array(10).fill(null)),h([]);const o=L({name:"",description:"",stock:"",price:"",min_order:"",weight:"",length:"",width:"",height:"",is_active:!0,product_category_id:"",images:[]}),U=h(Array(10).fill(null)),F=J(),D=async()=>{try{const c={...o},s=F.params.id,m=await f(`https://api.dev.commerce.waktoo.com:443/api/product-data/${s}`).headers({Authorization:`Bearer ${v.value}`,"Content-Type":"application/json"}).put(c).json();if(console.log(m),alert("  -"),m.status==="success"){const u=[];console.log("id",s),console.log("images awal",o==null?void 0:o.images),console.log("images semua",U.value.length);const i=new FormData;if(U.value.forEach((g,k)=>{if(g){if(o.images[k]){const A=o.images[k].substring(59);u.push(A)}i.append("images[]",g[0])}}),console.log("Save Images:",i),console.log("length Images:",u.length),alert(" -"),u.length>0){const g=await f(`https://api.dev.commerce.waktoo.com:443/api/files/product-images/${s}`).headers({Authorization:`Bearer ${v.value}`,"Content-Type":"application/json"}).json({path:u}).delete().res();if(!g.ok){const k=await g.json();throw new Error(k.message||"Failed to delete images")}}const V=await fetch(`https://api.dev.commerce.waktoo.com:443/api/files/product-images/${s}`,{method:"POST",headers:{Authorization:`Bearer ${v.value}`},body:i});if(!V.ok){const g=await V.json();throw new Error(g.message||"Failed to upload images")}console.log("berhasil ga sih",V),$.show({title:"Sukses",message:"Berhasil edit produk",closable:!0,color:"success"}),Q(`/admin-produk/${s}`)}else $.show({title:"Gagal",message:"Gagal edit produk",closable:!0,color:"danger"}),console.error("Failed to save product:",m.error)}catch(c){console.error("Error:",c)}};M(async()=>{try{const c=F.params.id,[s,m,u]=await Promise.all([f("https://api.dev.commerce.waktoo.com:443/api/product-categories").headers({Authorization:`Bearer ${v.value}`,"Content-Type":"application/json"}).get().json(),f("https://api.dev.commerce.waktoo.com:443/api/product-showcase").headers({Authorization:`Bearer ${v.value}`,"Content-Type":"application/json"}).get().json(),f(`https://api.dev.commerce.waktoo.com:443/api/product-data/${c}`).headers({Authorization:`Bearer ${v.value}`,"Content-Type":"application/json"}).get().json()]);s&&s.status==="success"?w.value=s.data.product_category:console.error("Failed to fetch data from product-categories API:",s),m&&m.status==="success"?E.value=m.data.showcase:console.error("Failed to fetch data from product-showcase API:",m),u&&u.status==="success"?Object.assign(o,u.data.product_data):console.error("Failed to fetch data from product-data API:",u)}catch(c){console.error("Error:",c)}});const W=[{label:"Home",hideLabel:!1,icon:"lucide:home",to:"/toko-admin"},{label:"Produk",hideLabel:!1,to:"/admin-produk"},{label:"Detail Produk",hideLabel:!1,to:"#"}];return(c,s)=>{const m=X,u=ae,i=se,V=oe,g=q("center"),k=te,A=le,S=ne,N=ie,R=de;return d(),r("form",{onSubmit:G(D,["prevent"])},[e("div",me,[e("div",ue,[e("div",pe,[e("div",he,[t(u,{items:W},{default:b(()=>[t(m,{name:"lucide:chevron-right",class:"block size-3"})]),_:1})]),e("div",ge,[_e,e("div",ve,[ke,e("div",be,[t(i,{placeholder:"Contoh: Jenis/Kategori Produk + Merek + Keterangan",modelValue:o.name,"onUpdate:modelValue":s[0]||(s[0]=a=>o.name=a)},null,8,["modelValue"])])]),e("div",Ve,[ye,e("div",fe,[t(V,{rounded:"sm",modelValue:c.selectedCategoryId,"onUpdate:modelValue":s[1]||(s[1]=a=>c.selectedCategoryId=a)},{default:b(()=>[we,(d(!0),r(P,null,B(w.value,a=>(d(),r("option",{key:a.id,value:a.product_id},C(a.name),9,Ue))),128))]),_:1},8,["modelValue"])])]),z.value.length>0?(d(),r("div",je,[(d(!0),r(P,null,B(z.value,(a,j)=>(d(),r("div",{key:a.id,class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mlls"},[e("div",Pe,[e("span",Be,C(a.label),1),a.required?(d(),r("span",Ce,"Wajib")):I("",!0),Ie]),e("div",$e,[t(i,{modelValue:a.id,"onUpdate:modelValue":n=>a.id=n,type:"hidden"},null,8,["modelValue","onUpdate:modelValue"]),t(i,{modelValue:a.name,"onUpdate:modelValue":n=>a.name=n,type:"hidden"},null,8,["modelValue","onUpdate:modelValue"]),t(i,{modelValue:a.type,"onUpdate:modelValue":n=>a.type=n,type:"hidden"},null,8,["modelValue","onUpdate:modelValue"]),t(i,{modelValue:a.label,"onUpdate:modelValue":n=>a.label=n,type:"hidden"},null,8,["modelValue","onUpdate:modelValue"]),t(i,{modelValue:a.required,"onUpdate:modelValue":n=>a.required=n,type:"hidden"},null,8,["modelValue","onUpdate:modelValue"]),t(i,{modelValue:a.placeholder,"onUpdate:modelValue":n=>a.placeholder=n,type:"hidden"},null,8,["modelValue","onUpdate:modelValue"]),a.type==="text"||a.type==="number"?(d(),x(i,{key:0,type:a.type,name:a.name,modelValue:a.value,"onUpdate:modelValue":n=>a.value=n,placeholder:a.placeholder},null,8,["type","name","modelValue","onUpdate:modelValue","placeholder"])):I("",!0),a.type==="select"?(d(),x(V,{key:1,modelValue:a.value,"onUpdate:modelValue":n=>a.value=n},{default:b(()=>[(d(!0),r(P,null,B(a.options,n=>(d(),r("option",{key:n,value:n},C(n),9,Ae))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):I("",!0)])]))),128))])):I("",!0)])])])]),ze,e("div",Fe,[e("div",Se,[e("div",xe,[e("div",Te,[Ee,e("div",De,[We,e("div",Ne,[e("div",Re,[(d(),r(P,null,B(10,a=>e("div",{key:a,class:"photo-upload-item"},[t(A,{modelValue:U.value[a-1],"onUpdate:modelValue":j=>U.value[a-1]=j,accept:"image/*"},{default:b(({open:j,remove:n,preview:H,files:p})=>[e("div",He,[p!=null&&p.length&&p.item(0)?(d(),r("img",{key:0,src:H(p.item(0)).value,alt:"Upload preview",class:"img-close-foto"},null,8,Ke)):o!=null&&o.images[a-1]?(d(),r("img",{key:1,src:o==null?void 0:o.images[a-1],alt:"Upload preview",class:"img-close-foto"},null,8,Le)):(d(),r("div",Je,[t(g,null,{default:b(()=>[Me]),_:1}),qe,_(" "+C(a===1?"Foto Utama":"Foto Ke - "+a),1)])),p!=null&&p.length&&p.item(0)?(d(),r("div",Ge,[t(k,{size:"sm",rounded:"full","data-nui-tooltip":"Remove image",class:"scale-90",onClick:Ga=>n(p.item(0))},{default:b(()=>[t(m,{name:"lucide:x",class:"size-4"})]),_:2},1032,["onClick"])])):(d(),r("div",Oe,[e("div",Qe,[t(k,{size:"sm",rounded:"full",class:"button-foto",onClick:j},{default:b(()=>[t(m,{name:"lucide:plus",class:"size-4"})]),_:2},1032,["onClick"])])]))])]),_:2},1032,["modelValue","onUpdate:modelValue"])])),64))])])]),e("div",Xe,[Ye,e("div",Ze,[t(i,{placeholder:"Contoh: www.commerce.com",modelValue:o.video_url,"onUpdate:modelValue":s[2]||(s[2]=a=>o.video_url=a)},null,8,["modelValue"])])]),e("div",ea,[aa,e("div",sa,[e("div",oa,[t(S,{modelValue:o.condition,"onUpdate:modelValue":s[3]||(s[3]=a=>o.condition=a),name:"checkbox_base",value:"1",label:"Baru",color:"warning",type:"number"},null,8,["modelValue"]),t(S,{modelValue:o.condition,"onUpdate:modelValue":s[4]||(s[4]=a=>o.condition=a),name:"checkbox_base",value:"0",label:"Bekas",color:"warning",type:"number"},null,8,["modelValue"])])])]),e("div",ta,[la,e("div",na,[t(N,{placeholder:"Tuliskan detail Produk....",modelValue:o.description,"onUpdate:modelValue":s[5]||(s[5]=a=>o.description=a)},null,8,["modelValue"])])])])])])]),ia,e("div",da,[e("div",ra,[e("div",ca,[e("div",ma,[ua,e("div",pa,[ha,e("div",ga,[t(i,{placeholder:"Contoh: 3",modelValue:o.min_order,"onUpdate:modelValue":s[6]||(s[6]=a=>o.min_order=a),type:"number"},null,8,["modelValue"])])]),e("div",_a,[va,e("div",ka,[t(i,{placeholder:"Contoh: Rp10.000",modelValue:o.price,"onUpdate:modelValue":s[7]||(s[7]=a=>o.price=a),type:"number"},null,8,["modelValue"])])])])])])]),ba,e("div",Va,[e("div",ya,[e("div",fa,[e("div",wa,[Ua,e("div",ja,[Pa,e("div",Ba,[t(R,{label:"Aktifkan Produk",color:"primary",modelValue:o.is_active,"onUpdate:modelValue":s[8]||(s[8]=a=>o.is_active=a)},null,8,["modelValue"])])]),e("div",Ca,[Ia,e("div",$a,[t(i,{placeholder:"Contoh: 3",modelValue:o.stock,"onUpdate:modelValue":s[9]||(s[9]=a=>o.stock=a),type:"number"},null,8,["modelValue"])])])])])])]),Aa,e("div",za,[e("div",Fa,[e("div",Sa,[e("div",xa,[Ta,e("div",Ea,[Da,e("div",Wa,[t(i,{placeholder:"Contoh: 1",modelValue:o.weight,"onUpdate:modelValue":s[10]||(s[10]=a=>o.weight=a),type:"number"},null,8,["modelValue"])])]),e("div",Na,[Ra,e("div",Ha,[t(i,{placeholder:"Panjang (cm)",modelValue:o.length,"onUpdate:modelValue":s[11]||(s[11]=a=>o.length=a),type:"number"},null,8,["modelValue"]),t(i,{placeholder:"Lebar (cm)",modelValue:o.width,"onUpdate:modelValue":s[12]||(s[12]=a=>o.width=a),type:"number"},null,8,["modelValue"]),t(i,{placeholder:"Tinggi (cm)",modelValue:o.height,"onUpdate:modelValue":s[13]||(s[13]=a=>o.height=a),type:"number"},null,8,["modelValue"])])])])])])]),e("div",Ka,[e("div",La,[e("button",{type:"button",class:"static nui-button nui-button-md nui-button-rounded-sm nui-button-solid nui-button-default !h-12 sm:w-40 mx-2 transform transition-transform duration-300 hover:scale-105",onClick:s[14]||(s[14]=(...a)=>c.cancel&&c.cancel(...a))}," Cancel "),Ja])])],32)}}}),qa=ee(Ma,[["__scopeId","data-v-6813f880"]]),ms=T({__name:"[id]",setup(y){return(v,$)=>{const w=qa;return d(),r("div",null,[t(w,{class:"pe-4 xl:pe-10"})])}}});export{ms as default};
