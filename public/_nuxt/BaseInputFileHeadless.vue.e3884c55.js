import{d as _,r as h,a7 as D,a8 as F,I as g,D as k,o as B,a as V,x as I,h as l,b as x,a1 as y}from"./entry.95308f2b.js";import{u as d}from"./file-preview.6f09b0bf.js";const C={class:"group/nui-file-headless relative"},M=["id"],T=_({inheritAttrs:!1,__name:"BaseInputFileHeadless",props:{modelValue:{default:void 0},id:{default:void 0},filterFileDropped:{type:Function,default:()=>!0}},emits:["update:modelValue"],setup(c,{expose:m,emit:w}){const o=c,e=h(),s=D(o,"modelValue",w,{passive:!0}),r=F(()=>o.id),p=new WeakMap;function n(){e.value?.click()}function f(a){a.stopPropagation(),a.preventDefault();const t=a.dataTransfer,i=new DataTransfer;if(e.value&&t){for(const v of t.files)o.filterFileDropped(v)&&i.items.add(v);e.value.files=i.files,s.value=e.value.files}}function u(a){if(!a||!s.value||!e.value)return;const t=new DataTransfer;p.has(a)&&p.delete(a);for(const i of s.value)i!==a&&t.items.add(i);e.value.files=t.files,s.value=e.value.files}return g("BaseInputFileHeadlessContext",k({el:e,id:r,files:s,open:n,remove:u,preview:d,drop:f})),m({el:e,id:r,files:s,open:n,remove:u,preview:d,drop:f}),(a,t)=>(B(),V("div",C,[I(a.$slots,"default",{id:l(r),el:l(e),files:l(s),open:n,remove:u,preview:l(d),drop:f}),x("input",y({id:l(r),ref_key:"inputRef",ref:e,type:"file"},a.$attrs,{class:"hidden",onChange:t[0]||(t[0]=i=>s.value=i.target.files)}),null,16,M)]))}});export{T as _};
