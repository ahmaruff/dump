import{d as E,as as H,r as l,D as L,c as z,P as O,a4 as U,a2 as $,o as u,a as c,b as e,e as d,ap as r,at as D,K as S,L as K,w as h,g as J,y as B,v as Y,au as p,l as Z,f as q,Y as G,Z as Q,M as W,_ as X,$ as ee}from"./entry.95308f2b.js";import{_ as te}from"./BaseButtonIcon.vue.ada84bdf.js";import{_ as ne}from"./BaseInputFileHeadless.vue.e3884c55.js";import{_ as se}from"./BaseTextarea.vue.793866e0.js";import"./file-preview.6f09b0bf.js";const n=v=>(G("data-v-66214840"),v=v(),Q(),v),ie=n(()=>e("div",{class:"flex w-full flex-wrap items-center justify-between px-3 ml-5 -mt-16"},[e("h1",{class:"mb-2 mt-0 text-2xl font-medium leading-tight text-black"}," Tambah Produk ")],-1)),oe={class:"border-muted-200"},ae={class:"nui-card nui-card-rounded-sm nui-card-default"},le={class:"bg-white dark:bg-muted-800/70 p-10"},de=n(()=>e("div",{class:"mb-2"},[e("h3",{class:"nui-heading nui-heading-md nui-weight-medium nui-lead-normal"}," Informasi Produk "),e("span",{class:"nui-text nui-content-xs nui-weight-normal nui-lead-normal text-muted-400"}," Ini adalah informasi yang pertama ditampilkan untuk pelanggan ")],-1)),ue={class:"col-span-12 mt-6"},ce={class:"col-span-12"},re={class:"col-span-12 sm:col-span-6 mt-6"},pe={class:"flex w-full flex-col gap-4 sm:flex-row"},me={class:"relative grow"},_e={class:"nui-input-wrapper nui-input-default nui-input-md nui-input-rounded-sm nui-has-icon"},he=n(()=>e("label",{class:"nui-input-label",for:"nui-input-f39c7d2d-067e-400e-ac21-d2292df2f668"},"Kategori",-1)),ve={class:"nui-select-wrapper nui-select-default nui-select-md nui-select-rounded-sm"},fe=n(()=>e("option",{value:null},"Pilih Kategori",-1)),ge=["value"],be=n(()=>e("div",{class:"nui-select-chevron nui-chevron border-unset"},[e("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",class:"nui-select-chevron-inner"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m6 9 6 6 6-6"})])],-1)),we=n(()=>e("div",{class:"vc-popover-content-wrapper is-interactive"},null,-1)),ke=n(()=>e("br",null,null,-1)),xe={class:"border-muted-200"},ye={class:"nui-card nui-card-rounded-sm nui-card-default"},Ve={class:"bg-white dark:bg-muted-800/70 p-10"},Pe=n(()=>e("div",{class:"mb-2"},[e("h3",{class:"nui-heading nui-heading-md nui-weight-medium nui-lead-normal"}," Detail Produk "),e("span",{class:"nui-text nui-content-xs nui-weight-normal nui-lead-normal text-muted-400"}," Ini adalah informasi yang pertama ditampilkan untuk pelanggan ")],-1)),Ce={class:"col-span-2"},Ie={class:"nui-input-wrapper nui-input-default nui-input-md nui-input-rounded-sm nui-has-icon"},Ue=n(()=>e("label",{class:"nui-input-label",for:"nui-input-89b0cb01-2c29-4d47-9e2d-2a62d6ead7cf"},"Foto Produk",-1)),Se={class:"flex items-center w-auto"},Be={class:"relative size-20"},Fe=["src"],Te={key:1,class:"kotak-dotted"},je=n(()=>e("img",{src:"https://res.cloudinary.com/daraki09f/image/upload/v1715845355/waktoo-commerce/icon-foto.svg"},null,-1)),ze=n(()=>e("br",null,null,-1)),$e={key:2,class:"absolute bottom-0 end-0 z-20"},De={key:3,class:"absolute bottom-0 end-0 z-20"},Ke={class:"relative","data-nui-tooltip":"Upload image"},Ae={class:"col-span-12 sm:col-span-6 mt-6"},Me={class:"flex w-full flex-col gap-4 sm:flex-row"},Re={class:"relative grow"},Ne={class:"nui-input-wrapper nui-input-default nui-input-md nui-input-rounded-sm nui-has-icon"},Ee=n(()=>e("label",{class:"nui-input-label",for:"nui-input-f39c7d2d-067e-400e-ac21-d2292df2f668"},"Kondisi",-1)),He={class:"nui-select-wrapper nui-select-default nui-select-md nui-select-rounded-sm"},Le=n(()=>e("option",{value:null},"Pilih Kondisi",-1)),Oe=n(()=>e("option",{value:"1"},"baru",-1)),Je=n(()=>e("option",{value:"0"},"bekas",-1)),Ye=[Le,Oe,Je],Ze=n(()=>e("div",{class:"nui-select-chevron nui-chevron"},[e("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",class:"nui-select-chevron-inner"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m6 9 6 6 6-6"})])],-1)),qe={class:"relative grow"},Ge={class:"col-span-6"},Qe=n(()=>e("div",{class:"vc-popover-content-wrapper is-interactive"},null,-1)),We={class:"col-span-12 sm:col-span-6 mt-6"},Xe={class:"col-span-12"},et=n(()=>e("br",null,null,-1)),tt={class:"border-muted-200"},nt={class:"nui-card nui-card-rounded-sm nui-card-default"},st={class:"bg-white dark:bg-muted-800/70 p-10"},it={class:"mb-2"},ot=n(()=>e("h3",{class:"nui-heading nui-heading-md nui-weight-medium nui-lead-normal"}," Varian Produk ",-1)),at=n(()=>e("span",{class:"nui-text nui-content-xs nui-weight-normal nui-lead-normal text-muted-400"}," tambah varian agar pembeli dapat memilih produk yang sesuai ",-1)),lt=["onClick"],dt={key:0,class:"col-span-12 sm:col-span-6 mt-6"},ut=W('<div class="flex w-1/2 flex-col gap-4 sm:flex-row" data-v-66214840><div class="relative grow" data-v-66214840><div class="nui-input-wrapper nui-input-default nui-input-md nui-input-rounded-sm nui-has-icon" data-v-66214840><label class="nui-input-label" for="nui-input-f39c7d2d-067e-400e-ac21-d2292df2f668" data-v-66214840>Kondisi</label><div class="nui-select-wrapper nui-select-default nui-select-md nui-select-rounded-sm" data-v-66214840><div data-v-66214840><select class="nui-select" id="nui-input-fa27fa71-0023-45d5-ac67-2b807f99916e" data-v-66214840><option value="" hidden="" data-v-66214840>Pilih Opsi</option><option value="baru" data-v-66214840>baru</option><option value="bekas" data-v-66214840>bekas</option></select><div class="nui-select-chevron nui-chevron" data-v-66214840><svg aria-hidden="true" viewBox="0 0 24 24" class="nui-select-chevron-inner" data-v-66214840><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m6 9 6 6 6-6" data-v-66214840></path></svg></div></div></div></div></div></div><div class="vc-popover-content-wrapper is-interactive" data-v-66214840></div>',2),ct=[ut],rt=n(()=>e("br",null,null,-1)),pt={class:"border-muted-200"},mt={class:"nui-card nui-card-rounded-sm nui-card-default"},_t={class:"bg-white dark:bg-muted-800/70 p-10"},ht=n(()=>e("div",{class:"mb-2"},[e("h3",{class:"nui-heading nui-heading-md nui-weight-medium nui-lead-normal"}," Harga "),e("span",{class:"nui-text nui-content-xs nui-weight-normal nui-lead-normal text-muted-400"}," ini adalah informasi yang pertama ditampilkan untuk pelanggan ")],-1)),vt={class:"col-span-12 sm:col-span-6 mt-6"},ft={class:"flex w-full flex-col gap-4 sm:flex-row"},gt={class:"relative grow"},bt={class:"nui-input-wrapper nui-input-default nui-input-md nui-input-rounded-sm nui-has-icon"},wt=n(()=>e("label",{class:"nui-input-label",for:"nui-input-88972005-df30-4290-8090-d7a6fff8b790"},"Minimal Pemesanan",-1)),kt={class:"nui-input-outer"},xt={class:"relative grow"},yt={class:"nui-input-wrapper nui-input-default nui-input-md nui-input-rounded-sm nui-has-icon"},Vt=n(()=>e("label",{class:"nui-input-label",for:"nui-input-88972005-df30-4290-8090-d7a6fff8b790"},"Harga Satuan",-1)),Pt={class:"nui-input-outer"},Ct=n(()=>e("div",{class:"vc-popover-content-wrapper is-interactive"},null,-1)),It=n(()=>e("br",null,null,-1)),Ut={class:"border-muted-200"},St={class:"nui-card nui-card-rounded-sm nui-card-default"},Bt={class:"bg-white dark:bg-muted-800/70 p-10"},Ft=n(()=>e("div",{class:"mb-2"},[e("h3",{class:"nui-heading nui-heading-md nui-weight-medium nui-lead-normal"}," Pengelolaan Produk "),e("span",{class:"nui-text nui-content-xs nui-weight-normal nui-lead-normal text-muted-400"}," ini adalah informasi yang pertama ditampilkan untuk pelanggan ")],-1)),Tt={class:"col-span-12 sm:col-span-6 mt-6"},jt={class:"flex w-full flex-col gap-4 sm:flex-row"},zt={class:"relative grow"},$t={class:"nui-input-wrapper nui-input-default nui-input-md nui-input-rounded-sm nui-has-icon"},Dt=n(()=>e("label",{class:"nui-input-label",for:"nui-input-88972005-df30-4290-8090-d7a6fff8b790"},"Stok Produk",-1)),Kt={class:"nui-input-outer"},At=n(()=>e("div",{class:"vc-popover-content-wrapper is-interactive"},null,-1)),Mt=n(()=>e("br",null,null,-1)),Rt={class:"border-muted-200"},Nt={class:"nui-card nui-card-rounded-sm nui-card-default"},Et={class:"bg-white dark:bg-muted-800/70 p-10"},Ht=n(()=>e("div",{class:"mb-2"},[e("h3",{class:"nui-heading nui-heading-md nui-weight-medium nui-lead-normal"}," Berat & Pengiriman "),e("span",{class:"nui-text nui-content-xs nui-weight-normal nui-lead-normal text-muted-400"}," ini adalah informasi yang pertama ditampilkan untuk pelanggan ")],-1)),Lt={class:"col-span-12 sm:col-span-6 mt-6"},Ot={class:"flex w-full flex-col gap-4 sm:flex-row"},Jt={class:"relative grow"},Yt={class:"nui-input-wrapper nui-input-default nui-input-md nui-input-rounded-sm nui-has-icon"},Zt=n(()=>e("label",{class:"nui-input-label",for:"nui-input-88972005-df30-4290-8090-d7a6fff8b790"},"Berat Produk",-1)),qt={class:"nui-input-outer"},Gt=n(()=>e("div",{class:"relative grow"},null,-1)),Qt={class:"flex w-full flex-col gap-4 sm:flex-row"},Wt={class:"relative grow"},Xt={class:"nui-input-wrapper nui-input-default nui-input-md nui-input-rounded-sm nui-has-icon"},en=n(()=>e("label",{class:"nui-input-label",for:"nui-input-88972005-df30-4290-8090-d7a6fff8b790"},"Ukuran Produk",-1)),tn={class:"nui-input-outer"},nn={class:"relative grow"},sn={class:"nui-input-wrapper nui-input-default nui-input-md nui-input-rounded-sm nui-has-icon"},on=n(()=>e("label",{class:"nui-input-label",for:"nui-input-88972005-df30-4290-8090-d7a6fff8b790"},"Tinggi",-1)),an={class:"nui-input-outer"},ln={class:"relative grow"},dn={class:"nui-input-wrapper nui-input-default nui-input-md nui-input-rounded-sm nui-has-icon"},un=n(()=>e("label",{class:"nui-input-label",for:"nui-input-88972005-df30-4290-8090-d7a6fff8b790"},"Lebar",-1)),cn={class:"nui-input-outer"},rn=n(()=>e("div",{class:"relative grow"},null,-1)),pn=n(()=>e("div",{class:"vc-popover-content-wrapper is-interactive"},null,-1)),mn=n(()=>e("br",null,null,-1)),_n=n(()=>e("div",{class:"text-center md:col-span-5"},[e("div",{class:"-mt-4 inline-flex w-full items-center justify-center gap-2 sm:w-auto"},[e("button",{type:"button",rel:"",target:"",class:"nui-button nui-button-md nui-button-rounded-sm nui-button-solid nui-button-default !h-12 w-full sm:w-40"}," Cancel "),e("button",{type:"submit",rel:"",target:"",class:"nui-button nui-button-md nui-button-rounded-sm nui-button-solid nui-button-primary !h-12 w-full sm:w-40"}," Submit ")])],-1)),hn=E({__name:"create",setup(v){H();const f=l(!1),k=l([]),x=l(null);l([]);const F=l([]),y=l(null);l([]);const i=L({name:"",description:"",stock:null,price:null,images:null,condition:null,video_url:null,min_order:null,weight:null,length:null,width:null,height:null,is_active:!0,product_category_id:""}),V=z({get:()=>x.value?x.value.id:null,set:o=>{x.value=k.value.find(t=>t.id===o)||null}});z({get:()=>y.value?y.value.id:null,set:o=>{y.value=F.value.find(t=>t.id===o)||null}}),l(null);const T=l(!1);O(async()=>{{const o=localStorage.getItem("token");if(o){T.value=!0;try{const[t,a]=await Promise.all([U("https://api.dev.commerce.waktoo.com:443/api/product-categories").headers({Authorization:`Bearer ${o}`,"Content-Type":"application/json"}).get().json(),U("https://api.dev.commerce.waktoo.com:443/api/product-showcase").headers({Authorization:`Bearer ${o}`,"Content-Type":"application/json"}).get().json()]);t&&t.status==="success"?k.value=t.data.product_category:console.error("Failed to fetch data from product-categories API:",t),a&&a.status==="success"?F.value=a.data.showcase:console.error("Failed to fetch data from product-showcase API:",a)}catch(t){t.value=t.message,console.error("Error:",t)}finally{T.value=!1}}}});const g=l(Array(10).fill(null)),A=()=>{f.value=!f.value},M=async()=>{try{const o={...i,product_category_id:V.value};console.log("Form data:",o);const t=localStorage.getItem("token");if(!t){console.error("Token not found");return}const a=await U("https://api.dev.commerce.waktoo.com:443/api/product-data").headers({Authorization:`Bearer ${t}`}).post(o).json();if(console.log("Product Response:",a),a.status==="success"){const b=a.data.product_data.id;console.log(b),console.log("images semua",g.value);const m=new FormData;g.value.forEach((w,j)=>{w&&m.append("images[]",w[0])}),console.log("Save Images:",m);const C=await(await fetch(`https://api.dev.commerce.waktoo.com:443/api/files/product-images/${b}`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:m})).json();console.log("Save Images Response:",C)}else console.error("Failed to save product:",a.error)}catch(o){console.error("Error:",o)}};return(o,t)=>{const a=Z,b=$("center"),m=X,P=te,C=ne,w=se,j=$("Field");return u(),c(S,null,[ie,e("form",{onSubmit:M,action:"/shop-admin",class:"mx-auto w-full"},[e("div",oe,[e("div",ae,[e("div",le,[de,e("div",ue,[e("div",ce,[d(a,{label:"Nama Produk",placeholder:"Contoh: Jenis/Kategori Produk + Merek + Keterangan",modelValue:i.name,"onUpdate:modelValue":t[0]||(t[0]=s=>i.name=s)},null,8,["modelValue"])])]),e("div",re,[e("div",pe,[e("div",me,[e("div",_e,[he,e("div",ve,[e("div",null,[r(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>V.value=s),class:"nui-select nui-select border-unset",id:"nui-input-fa27fa71-0023-45d5-ac67-2b807f99916e"},[fe,(u(!0),c(S,null,K(k.value,s=>(u(),c("option",{key:s.id,value:s.id},B(s.name),9,ge))),128))],512),[[D,V.value]]),be])])])])]),we])])])]),ke,e("div",xe,[e("div",ye,[e("div",Ve,[Pe,e("div",Ce,[e("div",Ie,[Ue,e("div",Se,[(u(),c(S,null,K(10,s=>e("div",{key:s,class:"photo-upload-item"},[d(C,{modelValue:g.value[s-1],"onUpdate:modelValue":I=>g.value[s-1]=I,accept:"image/*"},{default:h(({open:I,remove:R,preview:N,files:_})=>[e("div",Be,[_?.length&&_.item(0)?(u(),c("img",{key:0,src:N(_.item(0)).value,alt:"Upload preview",class:"img-close-foto"},null,8,Fe)):(u(),c("div",Te,[d(b,null,{default:h(()=>[je]),_:1}),ze,q(" "+B(s===1?"Foto Utama":"Foto Ke - "+s),1)])),_?.length&&_.item(0)?(u(),c("div",$e,[d(P,{size:"sm",rounded:"full","data-nui-tooltip":"Remove image",class:"scale-90",onClick:vn=>R(_.item(0))},{default:h(()=>[d(m,{name:"lucide:x",class:"size-4"})]),_:2},1032,["onClick"])])):(u(),c("div",De,[e("div",Ke,[d(P,{size:"sm",rounded:"full",class:"button-foto",onClick:I},{default:h(()=>[d(m,{name:"lucide:plus",class:"size-4"})]),_:2},1032,["onClick"])])]))])]),_:2},1032,["modelValue","onUpdate:modelValue"])])),64))])])]),e("div",Ae,[e("div",Me,[e("div",Re,[e("div",Ne,[Ee,e("div",He,[e("div",null,[r(e("select",{class:"nui-select border-unset",id:"nui-input-fa27fa71-0023-45d5-ac67-2b807f99916e","onUpdate:modelValue":t[2]||(t[2]=s=>i.condition=s)},Ye,512),[[D,i.condition]]),Ze])])])]),e("div",qe,[e("div",Ge,[d(a,{label:"Url Video Produk",placeholder:"Contoh: www.commerce.com",modelValue:i.video_url,"onUpdate:modelValue":t[3]||(t[3]=s=>i.video_url=s)},null,8,["modelValue"])])])]),Qe]),e("div",We,[e("div",Xe,[d(j,{name:"event.longDesc"},{default:h(()=>[d(w,{label:"Deskripsi Produk",shape:"curved",placeholder:"Tuliskan detail Produk...",rows:"4",modelValue:i.description,"onUpdate:modelValue":t[4]||(t[4]=s=>i.description=s)},null,8,["modelValue"])]),_:1})])])])])]),et,e("div",tt,[e("div",nt,[e("div",st,[e("div",it,[ot,at,e("button",{onClick:J(A,["prevent"]),class:"nui-button nui-button-small nui-button-rounded nui-button-solid float-right"},B(f.value?"Hapus Varian":"Tambah Varian"),9,lt)]),f.value?(u(),c("div",dt,ct)):Y("",!0)])])]),rt,e("div",pt,[e("div",mt,[e("div",_t,[ht,e("div",vt,[e("div",ft,[e("div",gt,[e("div",bt,[wt,e("div",kt,[e("div",null,[r(e("input",{type:"number",class:"nui-input border-unset",placeholder:"Contoh: 1",id:"nui-input-b8352d51-a953-4d0e-b5cf-22b183531ed0","onUpdate:modelValue":t[5]||(t[5]=s=>i.min_order=s)},null,512),[[p,i.min_order]])])])])]),e("div",xt,[e("div",yt,[Vt,e("div",Pt,[e("div",null,[r(e("input",{type:"number",class:"nui-input border-unset",placeholder:"Rp. ",id:"nui-input-b8352d51-a953-4d0e-b5cf-22b183531ed0","onUpdate:modelValue":t[6]||(t[6]=s=>i.price=s)},null,512),[[p,i.price]])])])])])]),Ct])])])]),It,e("div",Ut,[e("div",St,[e("div",Bt,[Ft,e("div",Tt,[e("div",jt,[e("div",zt,[e("div",$t,[Dt,e("div",Kt,[e("div",null,[r(e("input",{type:"number",class:"nui-input",placeholder:"Contoh: 1",id:"nui-input-b8352d51-a953-4d0e-b5cf-22b183531ed0","onUpdate:modelValue":t[7]||(t[7]=s=>i.stock=s)},null,512),[[p,i.stock]])])])])])]),At])])])]),Mt,e("div",Rt,[e("div",Nt,[e("div",Et,[Ht,e("div",Lt,[e("div",Ot,[e("div",Jt,[e("div",Yt,[Zt,e("div",qt,[e("div",null,[r(e("input",{type:"number",class:"nui-input",placeholder:"Contoh: 1",id:"nui-input-b8352d51-a953-4d0e-b5cf-22b183531ed0","onUpdate:modelValue":t[8]||(t[8]=s=>i.weight=s)},null,512),[[p,i.weight]])])])])]),Gt]),e("div",Qt,[e("div",Wt,[e("div",Xt,[en,e("div",tn,[e("div",null,[r(e("input",{type:"number",class:"nui-input",placeholder:"Panjang",id:"nui-input-b8352d51-a953-4d0e-b5cf-22b183531ed0","onUpdate:modelValue":t[9]||(t[9]=s=>i.length=s)},null,512),[[p,i.length]])])])])]),e("div",nn,[e("div",sn,[on,e("div",an,[e("div",null,[r(e("input",{type:"number",class:"nui-input",placeholder:"Tinggi",id:"nui-input-b8352d51-a953-4d0e-b5cf-22b183531ed0","onUpdate:modelValue":t[10]||(t[10]=s=>i.height=s)},null,512),[[p,i.height]])])])])]),e("div",ln,[e("div",dn,[un,e("div",cn,[e("div",null,[r(e("input",{type:"number",class:"nui-input",placeholder:"Lebar",id:"nui-input-b8352d51-a953-4d0e-b5cf-22b183531ed0","onUpdate:modelValue":t[11]||(t[11]=s=>i.width=s)},null,512),[[p,i.width]])])])])]),rn]),pn])])])]),mn,_n],32)],64)}}});const xn=ee(hn,[["__scopeId","data-v-66214840"]]);export{xn as default};
