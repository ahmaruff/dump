import{_ as C}from"./BqKs6nPT.js";import{u as $,c as O}from"./CoBg3nwE.js";import{d as y,o as t,e as k,g as u,h as g,l as e,u as F,r as x,$ as I,i as d,m as c,c as p,j as P,_ as J,B as L,N as R,Q as V,H as E,G as H,a6 as M,A as T}from"./DmTmMO_-.js";import{u as U}from"./BHLlrkjG.js";const q={class:"mx-auto w-full"},D=u("div",{class:"flex flex-col justify-center items-center"},[u("img",{src:"https://res.cloudinary.com/daraki09f/image/upload/v1716887978/waktoo-commerce/icon-mask.png",class:"img-logo-auth"}),u("img",{src:"https://res.cloudinary.com/daraki09f/image/upload/v1716956244/waktoo-commerce/frame-19924.png"})],-1),W={class:"w-full flex flex-col justify-center items-center px-4 md:px-64"},G=y({__name:"Header",setup(S){const{data:_,getStep:b,steps:n,progress:o,currentStep:a}=$();return(v,h)=>{const i=C;return t(),k("div",q,[D,u("div",W,[g(i,{title:"Onboarding Progress",class:"mt-4 mb-2",size:"md",value:e(o),color:"primary"},null,8,["value"])])])}}}),K={class:"flex flex-row gap-4 justify-between items-center"},Q=y({__name:"Action",setup(S){const _=F(),{data:b,nextNotOk:n,loading:o,complete:a,isLastStep:v,isFirstStep:h,currentStep:i,getPrevStep:s,getNextStep:m,getStep:w}=$(),r=x("");return I(()=>{var f;((f=b.value.qna[0])==null?void 0:f.answer)==="Saya baru mau memulai usaha."?r.value="/onboarding/step-4":r.value="",console.log("skip",r.value)}),(f,ee)=>{var j,A,B,N;const z=J,l=L;return t(),k("div",K,[g(l,{class:"w-full md:w-40",shadow:"hover",size:"lg",rounded:"lg",color:"default",to:(j=e(s)())==null?void 0:j.to,disabled:!((A=e(s)())!=null&&A.to)},{default:d(()=>[g(z,{name:"lucide:chevron-left"}),c(" Kembali ")]),_:1},8,["to","disabled"]),u("div",null,[e(_).path!="/onboarding"?(t(),p(l,{key:0,class:"mx-1",shadow:"hover",size:"lg",rounded:"lg",type:"submit",color:"default"},{default:d(()=>[c(" Lewati Semua ")]),_:1})):P("",!0),e(_).path!="/onboarding"?(t(),p(l,{key:1,class:"mx-1",shadow:"hover",size:"lg",rounded:"lg",type:"submit",color:"default",to:(B=e(m)())==null?void 0:B.to},{default:d(()=>[c(" Lewati ")]),_:1},8,["to"])):P("",!0),e(v)?(t(),p(l,{key:2,class:"w-full md:w-40 ms-1",shadow:"hover",size:"lg",rounded:"lg",type:"submit",color:"primary",disabled:e(n)||e(o)||e(a)},{default:d(()=>[c(" Selesai ")]),_:1},8,["disabled"])):e(n)||e(o)||e(a)?(t(),p(l,{key:3,class:"w-full md:w-40 ms-1",shadow:"hover",size:"lg",rounded:"lg",color:"primary",type:"button",disabled:""},{default:d(()=>[c(" Selanjutnya ")]),_:1})):e(r)?(t(),p(l,{key:4,class:"w-full md:w-40 ms-1",shadow:"hover",size:"lg",rounded:"lg",color:"primary",to:e(r),disabled:e(n)||e(o)||e(a)},{default:d(()=>[c(" Selanjutnya ")]),_:1},8,["to","disabled"])):(t(),p(l,{key:5,class:"w-full md:w-40 ms-1",shadow:"hover",size:"lg",rounded:"lg",color:"primary",to:(N=e(m)())==null?void 0:N.to,disabled:e(n)||e(o)||e(a)},{default:d(()=>[c(" Selanjutnya ")]),_:1},8,["to","disabled"]))])])}}}),X={class:"w-full md:h-screen bg-white dark:bg-muted-900 p-4 flex flex-col justify-center md:items-center"},Y={class:"mb-8 flex flex-col justify-center items-center w-full"},Z=y({__name:"onboarding",setup(S){const{$jwtAuth:_}=R(),b=x("/onboarding/step-3");function n(i){return i.split("@")[0]}const o=x({name:"",email:"",password:"",password_confirmation:"",progress:0,qna:[],leads:{id:"",data:""}}),{data:a,reset:v,handleSubmit:h}=O({initialState:o,async onSubmit(i){const s={email:a.value.email,name:a.value.name||n(a.value.email),app_version:V().public.app_version,password:a.value.password,password_confirmation:a.value.password_confirmation};await _.register(s);const{user:m}=U();{const w={user_id:m.value.id,data:i};localStorage.setItem("onboarding",JSON.stringify(w))}console.log("Form submitted"),E("/onboarding-success")},steps:[{to:"/onboarding",meta:{name:"Registrasi",description:"Registrasi Akun User"}},{to:"/onboarding/step-2",meta:{name:"Tujuan Bisnis Anda",description:"Pilih kategori yang paling sesuai dengan tujuan bisnis anda"}},{to:b.value,meta:{name:"Siapakah Anda",description:"Pilih kategori yang paling sesuai dengan tujuan anda di Waktoo Commerce"}},{to:"/onboarding/step-4",meta:{name:"Dimana Anda Ingin Berjualan?",description:"Pilih metode apa saja yang ingin anda gunakan dalam berjualan"}},{to:"/onboarding/step-5",meta:{name:"Jumlah Produk yang Akan Anda Jual",description:"Pilih kategori yang paling sesuai dengan tujuan bisnis anda"}},{to:"/onboarding/step-6",meta:{name:"Leads",description:"Darimana anda mengetahui Waktoo Commerce?"}}]});return(i,s)=>{const m=G,w=M,r=Q;return t(),k("main",X,[g(m),u("form",{onSubmit:s[0]||(s[0]=H((...f)=>e(h)&&e(h)(...f),["prevent"])),class:"w-full px-4 md:px-40 lg:px-60 overflow-y-auto custom-scrollbar"},[u("div",Y,[g(w)]),g(r,{class:"fixed bottom-0 left-1/2 transform -translate-x-1/2 mb-6 transition-opacity duration-300 w-full px-4 md:px-16"})],32)])}}}),ne=T(Z,[["__scopeId","data-v-5080e14e"]]);export{ne as default};
